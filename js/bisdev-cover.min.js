(function(){

function prevent(e){e.preventDefault();}

function lockScroll(){
  document.documentElement.style.overflow = "hidden";
  document.documentElement.style.height   = "100%";
  document.addEventListener("wheel", prevent, { passive:false });
  document.addEventListener("touchmove", prevent, { passive:false });
}

function unlockScroll(){
  document.documentElement.style.overflow = "";
  document.documentElement.style.height   = "";
  document.removeEventListener("wheel", prevent);
  document.removeEventListener("touchmove", prevent);

  // animasi tutup cover
  var sec = document.getElementById("sec");
  if(sec){
    sec.style.cssText = "opacity:0;transition:opacity 1.5s ease-in-out";
    setTimeout(function(){ sec.style.display="none"; },1500);
  }

  // izinkan musik
  window.__BISDEV_MUSIC_ALLOWED = true;
  var btn = document.querySelector(".idb-audio-box .idb-mute-sound");
  if(btn) try{ btn.click(); }catch(e){}
}

document.addEventListener("DOMContentLoaded", function(){
  lockScroll(); // ðŸ”’ KUNCI TOTAL
  var open = document.getElementById("open");
  if(open){
    open.addEventListener("click", unlockScroll, { once:true });
  }
});

})();
